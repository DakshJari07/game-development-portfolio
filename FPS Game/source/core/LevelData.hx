package core;

class LevelData {
    public static var MAPS:Array<Array<String>> = [
        [
            "########################################",
            "#P.....#.............#.................#",
            "#......#.............#.....#####.......#",
            "#......#..#####......#.................#",
            "#..........#....................e......#",
            "#####.#########..#########..#########..#",
            "#......................................#",
            "#..e...........#####.............e.....#",
            "#......................................#",
            "#..........#########...................#",
            "#......................#####...........#",
            "#......................#...............#",
            "#......................#...#...........#",
            "#......e...............#...#...........#",
            "#......................#####...........#",
            "#......................................#",
            "########################################"
        ],
        [
            "########################################",
            "#P...............#.....................#",
            "#.........####...#...####..............#",
            "#.........#..#.......#..#..............#",
            "#.........#..#####.###..#.e............#",
            "#..................#....#..............#",
            "#....#########.....#.####..............#",
            "#....#.......#.....#...................#",
            "#....#...e...#..............e..........#",
            "#....#.......#.....###.###.............#",
            "#....####.####.....#.....#.............#",
            "#..................#..e..#.............#",
            "#..................#.....#.............#",
            "#.........#####....#######.............#",
            "#......................................#",
            "########################################"
        ],
        [
            "########################################",
            "#P.............#.......................#",
            "#..............#.............#######...#",
            "#..e...........#...................#...#",
            "#..............#...................#...#",
            "#..............#####...............#...#",
            "#............................e.....#...#",
            "###.#########.......................#..#",
            "#...........#.......................#..#",
            "#....e......#.......................#..#",
            "#...........#.......................#..#",
            "#...........#.......................#..#",
            "#...........##########..............#..#",
            "#..............................e....#..#",
            "#......................................#",
            "########################################"
        ]
    ];

    public static var MAP:Array<String> = null;

    public static function pickRandom():Array<String> {
        var idx = Std.random(MAPS.length);
        MAP = MAPS[idx];
        return MAP;
    }

    public static function isWall(x:Int, y:Int):Bool {
        var M = (MAP == null) ? MAPS[0] : MAP;
        if (y < 0 || y >= M.length) return true;
        if (x < 0 || x >= M[0].length) return true;
		var cell = M[y].charAt(x);
		return cell == "#";
	}

	public static function getWallType(x:Int, y:Int):Int
	{
		return 0;
    }

    public static function eachFreeTile(cb:Int->Int->Void):Void {
        var M = (MAP == null) ? MAPS[0] : MAP;
        for (j in 0...M.length)
            for (i in 0...M[0].length)
                if (M[j].charAt(i) == ".") cb(i, j);
    }
}

